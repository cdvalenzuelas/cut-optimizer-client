!function(e){function t(t){for(var n,c,i=t[0],o=t[1],u=t[2],m=0,p=[];m<i.length;m++)c=i[m],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(s&&s(t);p.length;)p.shift()();return l.push.apply(l,u||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,i=1;i<a.length;i++){var o=a[i];0!==r[o]&&(n=!1)}n&&(l.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},r={0:0},l=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="./";var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var s=o;l.push([41,1]),a()}([function(e,t,a){e.exports=a(4)(2)},function(e,t,a){e.exports=a(4)(58)},function(e,t,a){e.exports=a(4)(63)},,function(e,t){e.exports=libs},function(e,t,a){e.exports=a(4)(30)},,function(e,t,a){e.exports=a(4)(3)},,function(e,t,a){e.exports=a(4)(33)},,function(e,t,a){"use strict";(function(e){var n,r=a(9),l=a(15),c=a(16),i=Object(r.combineReducers)({cutOptimizer:l.a,global:c.a});e.NODE_ENV||(n=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||r.compose);var o=window.localStorage.getItem("GLOBAL_STATE"),u=(o&&JSON.parse(o),Object(r.createStore)(i,{},n()));t.a=u}).call(this,a(19))},,,,function(e,t,a){"use strict";var n=a(6),r=a.n(n);function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var i,o,u,s={projectId:"",mode:"input",currentShape:-1,newElements:!0,readyToSend:!1,request2:"[]",request:[],response:[],serverAvailableBars:[]};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=void 0===n?{}:n,l=e.currentShape,m=e.newElements,p=e.request2,d=void 0===p?"[]":p,E=e.request,f=void 0===E?[]:E,b=e.serverAvailableBars,h=void 0===b?[]:b,O=f[l]||[],g=O.list,y=void 0===g?[]:g,v=O.defaultlengthBar,N=void 0===v?0:v,C=r.item,j=r.value,S=r.name;switch(a){case"cutOptimizer/ADD_AVAILABLE_BARS":return i=JSON.parse(d),u=0===(u=h.filter((function(e){return e.name===r.shapeName&&e.material===r.material}))).length?[]:u[0].data,f[l].availableBars=u,i[l].availableBars=!0,Object.assign({},e,{request:f,request2:JSON.stringify(i)});case"cutOptimizer/ADD_ELEMENT":return y.push({name:"PXXX",quantity:1,length:Math.round(.5*N)}),(i=JSON.parse(d))[l].list[y.length-1]={name:"PXXX",quantity:"A",length:"A"},Object.assign({},e,{request:f,request2:JSON.stringify(i)});case"cutOptimizer/ADD_SERVER_AVAILABLE_BAR":return h.push(r),Object.assign({},e,{serverAvailableBars:h});case"cutOptimizer/CHANGE_NEW_ELEMENTS":return Object.assign({},e,{newElements:!m});case"cutOptimizer/CREATE_SHAPE":return u=c({},r,{list:[],availableBars:[],error:{settings:!1,items:!0}}),i=JSON.parse(d),f.push(u),i.push(u),Object.assign({},e,{request:f,request2:JSON.stringify(i),currentShape:l+1,newElements:!0});case"cutOptimizer/CREATE_NEW_PROJECT":return Object.assign({},e,{projectId:j,mode:"input",currentShape:-1,newElements:!0,readyToSend:!1,request2:"[]",request:[],response:[],serverAvailableBars:[]});case"cutOptimizer/DELETE_AVAILABLE_BARS":return f[l].availableBars=[],(i=JSON.parse(d))[l].availableBars=!1,Object.assign({},e,{request:f,request2:JSON.stringify(i),newElements:!0});case"cutOptimizer/DELETE_ELEMENT":return y.splice(C,1),(i=JSON.parse(d))[l].list.splice(C,1),Object.assign({},e,{request:f,request2:JSON.stringify(i)});case"cutOptimizer/DELETE_SHAPE":return f.splice(l,1),o=0===l?0===f.length?-1:0:l-1,(i=JSON.parse(d)).splice(l,1),Object.assign({},e,{request2:JSON.stringify(i),currentShape:o});case"cutOptimizer/EDIT_SHAPE":return i=JSON.parse(d),f[l]=Object.assign({},f[l],r),u={shapeName:r.shapeName,material:r.material},i[l]=Object.assign({},f[l],u),Object.assign({},e,{request:f,request2:JSON.stringify(i)});case"cutOptimizer/GET_DATA_FROM_PROJECT":return r;case"cutOptimizer/MODIFY_ELEMENT":return"name"===S?(j=j.toUpperCase(),y[C][S]=j,(i=JSON.parse(d))[l].list[C][S]=j):"length"!==S&&"quantity"!==S||(j=Number(j),y[C][S]=j),Object.assign({},e,{request:f,request2:"name"===S?JSON.stringify(i):d});case"cutOptimizer/OPTIMIZE":return Object.assign({},e,{response:j,request2:JSON.stringify(f),newElements:!0,mode:"output"});case"cutOptimizer/SET_CURRENT_SHAPE":return l!==Number(j)?Object.assign({},e,{currentShape:j}):e;case"cutOptimizer/SET_MODE":return Object.assign({},e,{mode:j});case"cutOptimizer/SET_READY_TO_SEND":return Object.assign({},e,{readyToSend:j});case"cutOptimizer/SET_SERVER_AVAILABLEBARS":return Object.assign({},e,r);case"cutOptimizer/SET_SHAPE_ERROR":return(u=f[l]||{}).error?(f[l].error[S]=j,(i=JSON.parse(d))[l].error[S]=j,Object.assign({},e,{request:f,request2:JSON.stringify(i)})):e;default:return e}}},function(e,t,a){"use strict";var n={loading:!1,error:"",user:null,lastUpdated:""};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n,t=arguments.length>1?arguments[1]:void 0,a=t.type,r=t.payload;switch(a){case"global/SET_LOADING":case"global/SET_ERROR":case"global/SET_USER":return Object.assign({},e,r);default:return e}}},,function(e,t,a){},function(e,t,a){e.exports=a(4)(44)},,,,,function(e,t,a){e.exports=a(4)(66)},,function(e,t,a){e.exports=a(4)(68)},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(5),c=(a(18),a(11)),i=a(1),o=a(2),u=a(3),s=a.n(u),m=a(6),p=a.n(m),d=a(8);a(23),a(25);d.a.initializeApp({apiKey:"AIzaSyA_OfrRMXMTv8eSwcJE-Jk8-SZ8l8E96CE",authDomain:"cutoptimizer-feae5.firebaseapp.com",databaseURL:"https://cutoptimizer-feae5.firebaseio.com",projectId:"cutoptimizer-feae5",storageBucket:"cutoptimizer-feae5.appspot.com",messagingSenderId:"434668949042",appId:"1:434668949042:web:796d29da1341495ee6b62b",measurementId:"G-00RT3J6W17"});var E=d.a.firestore();function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?f(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var h=function(e,t,a){return E.collection(e).doc(t).update(a).then((function(e){return"DOCUMENT UPDATED"})).catch((function(e){return new Error}))},O=(a(27),a(28),Object(n.memo)((function(){return r.a.createElement("div",{className:"SearchBar"},r.a.createElement("input",{className:"SearchBar_Search",type:"text",placeholder:"Seach Tool"}),r.a.createElement("div",{className:"SearchBar_Icon"},r.a.createElement("svg",{width:"23",height:"20",viewBox:"0 0 23 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{clipPath:"url(#clip0)"},r.a.createElement("path",{d:"M6.49637 4.55146C6.18097 4.26279 5.66927 4.26279 5.35388 4.55146C4.18285 5.6224 3.60729 7.11428 3.77456 8.64482C3.81629 9.02611 4.16752 9.31033 4.57769 9.31033C4.60464 9.31033 4.63181 9.30908 4.65876 9.30662C5.10289 9.26599 5.42687 8.90365 5.38245 8.49775C5.26341 7.41006 5.66957 6.35244 6.49637 5.59627C6.81202 5.30787 6.81202 4.83986 6.49637 4.55146Z",fill:"white"}),r.a.createElement("path",{d:"M9.69584 0C4.60208 0 0.458008 3.78988 0.458008 8.44828C0.458008 13.1067 4.60208 16.8966 9.69584 16.8966C14.7896 16.8966 18.9337 13.1067 18.9337 8.44828C18.9337 3.78988 14.7896 0 9.69584 0ZM9.69584 15.4187C5.49303 15.4187 2.07397 12.2919 2.07397 8.44828C2.07397 4.60469 5.49303 1.47785 9.69584 1.47785C13.8984 1.47785 17.3177 4.60469 17.3177 8.44828C17.3177 12.2919 13.8986 15.4187 9.69584 15.4187Z",fill:"white"}),r.a.createElement("path",{d:"M22.0904 18.7387L16.2191 13.3692C15.9034 13.0805 15.3922 13.0805 15.0766 13.3692C14.7609 13.6577 14.7609 14.1256 15.0766 14.4141L20.9479 19.7835C21.1057 19.9278 21.3123 20 21.5191 20C21.726 20 21.9326 19.9278 22.0904 19.7835C22.406 19.4951 22.406 19.0271 22.0904 18.7387Z",fill:"white"})),r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"clip0"},r.a.createElement("rect",{width:"21.8691",height:"20",fill:"white",transform:"translate(0.458008)"}))))))}))),g=(a(29),Object(n.memo)((function(e){var t=e.user;return r.a.createElement("nav",{className:"NavBar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(o.Link,{to:"/cutOptimizer/bars_store"},r.a.createElement("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M5.42747 11.2911H24.5727V30H29.9581V6.98421L14.5736 0L0.0419922 6.98421V30H5.42747V11.2911Z",fill:"white"}),r.a.createElement("path",{d:"M14.5736 26.3513H11.1765V29.2818H14.5736V26.3513Z",fill:"white"}),r.a.createElement("path",{d:"M18.743 26.3513H15.3459V29.2818H18.743V26.3513Z",fill:"white"}),r.a.createElement("path",{d:"M10.4047 26.3513H7.00757V29.2818H10.4047V26.3513Z",fill:"white"}),r.a.createElement("path",{d:"M14.5736 22.3315H11.1765V25.2621H14.5736V22.3315Z",fill:"white"}),r.a.createElement("path",{d:"M10.4047 22.3315H7.00757V25.2621H10.4047V22.3315Z",fill:"white"}),r.a.createElement("path",{d:"M18.743 22.3315H15.3459V25.2621H18.743V22.3315Z",fill:"white"}),r.a.createElement("path",{d:"M14.5736 18.3124H11.1765V21.243H14.5736V18.3124Z",fill:"white"}),r.a.createElement("path",{d:"M10.4047 18.3124H7.00757V21.243H10.4047V18.3124Z",fill:"white"}),r.a.createElement("path",{d:"M22.9117 26.3513H19.5146V29.2818H22.9117V26.3513Z",fill:"white"})))),r.a.createElement("li",null,r.a.createElement("a",{href:"#"},r.a.createElement("svg",{width:"40",height:"30",viewBox:"0 0 40 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{clipPath:"url(#clip0)"},r.a.createElement("path",{d:"M36.9623 10.0854C37.0869 9.58434 37.15 9.07572 37.1509 8.56598C37.1432 3.83173 32.02 -0.00149556 25.7076 0.0042178C20.9024 0.00854992 16.614 2.26658 14.9762 5.65474C12.0439 4.77927 8.72041 5.85238 7.55304 8.05165C7.452 8.24201 7.36929 8.43752 7.30559 8.63673C2.62339 9.16192 -0.604557 12.4344 0.0956962 15.9461C0.723706 19.0955 4.3312 21.4256 8.57709 21.4242H15.7205C16.5096 21.4242 17.1492 20.9445 17.1492 20.3527C17.1492 19.7609 16.5096 19.2812 15.7205 19.2812H8.57709C5.42089 19.2812 2.8623 17.3622 2.8623 14.9951C2.8623 12.6279 5.42089 10.709 8.57709 10.709C9.36616 10.709 10.0058 10.2293 10.0058 9.63745C10.0084 8.45391 11.2898 7.49601 12.8679 7.49795C13.6141 7.4989 14.3304 7.71877 14.8633 8.11054C15.4253 8.52592 16.3299 8.52096 16.8837 8.09949C17.0916 7.94121 17.2288 7.73842 17.2763 7.51905C18.0518 4.0199 22.4626 1.65482 27.1282 2.23645C31.7937 2.81808 34.9471 6.12618 34.1716 9.62534C34.1254 9.83397 34.0654 10.0408 33.992 10.245C33.8277 10.6922 34.0659 11.1679 34.5821 11.4236C37.212 12.7323 37.9293 15.3923 36.1842 17.3647C35.128 18.5586 33.3464 19.2777 31.4361 19.281H27.15C26.3609 19.281 25.7213 19.7608 25.7213 20.3526C25.7213 20.9444 26.3609 21.4241 27.15 21.4241H31.4361C36.1703 21.4208 40.0046 18.5396 40.0001 14.9889C39.9978 13.0991 38.8867 11.3056 36.9623 10.0854Z",fill:"white"}),r.a.createElement("path",{d:"M29.5563 22.809C29.0026 22.408 28.1249 22.408 27.5713 22.809L22.8637 26.3376V10.7084C22.8637 10.1166 22.2241 9.63684 21.435 9.63684C20.6459 9.63684 20.0063 10.1166 20.0063 10.7084V26.3375L15.3016 22.809C14.734 22.3979 13.8296 22.4097 13.2814 22.8353C12.7467 23.2505 12.7467 23.9088 13.2814 24.3241L20.4249 29.6816C20.982 30.1006 21.8867 30.1015 22.4453 29.6835C22.4462 29.6829 22.447 29.6823 22.4479 29.6816L29.5914 24.3241C30.1396 23.8985 30.1239 23.2201 29.5563 22.809Z",fill:"white"})),r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"clip0"},r.a.createElement("rect",{width:"40",height:"30",fill:"white"})))))),r.a.createElement("li",null,r.a.createElement(o.Link,{to:"/user"},t?r.a.createElement("img",{src:t.photoURL,alt:"avatar",style:{borderRadius:"50%",height:"30px"}}):r.a.createElement("svg",{width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M15 0C6.729 0 0 6.729 0 15C0 18.6225 1.291 21.949 3.437 24.544C3.4425 24.5515 3.443 24.561 3.449 24.568C4.9985 26.4365 6.9445 27.869 9.113 28.7945C9.138 28.805 9.1625 28.8165 9.1875 28.827C9.363 28.901 9.5405 28.9695 9.7185 29.0365C9.7885 29.063 9.8585 29.09 9.9295 29.1155C10.083 29.1705 10.2375 29.2225 10.393 29.2725C10.4925 29.3045 10.592 29.336 10.6925 29.366C10.83 29.407 10.968 29.4465 11.107 29.484C11.229 29.517 11.352 29.5475 11.475 29.577C11.5995 29.607 11.7245 29.637 11.85 29.6635C11.99 29.6935 12.1315 29.72 12.2735 29.746C12.3875 29.767 12.501 29.789 12.616 29.8075C12.7735 29.833 12.932 29.853 13.091 29.8735C13.1935 29.8865 13.2955 29.9015 13.3985 29.9125C13.5785 29.9315 13.76 29.945 13.942 29.9575C14.0265 29.9635 14.1105 29.9725 14.1955 29.977C14.461 29.992 14.7295 30 15 30C15.2705 30 15.539 29.992 15.8055 29.978C15.8905 29.9735 15.9745 29.9645 16.059 29.9585C16.241 29.9455 16.4225 29.9325 16.6025 29.9135C16.7055 29.9025 16.8075 29.8875 16.91 29.8745C17.069 29.854 17.2275 29.834 17.385 29.8085C17.4995 29.79 17.6135 29.768 17.7275 29.747C17.869 29.721 18.0105 29.6945 18.151 29.6645C18.2765 29.6375 18.401 29.608 18.526 29.578C18.649 29.548 18.772 29.5175 18.894 29.485C19.033 29.448 19.171 29.408 19.3085 29.367C19.409 29.337 19.5085 29.3055 19.608 29.2735C19.7635 29.2235 19.918 29.1715 20.0715 29.1165C20.142 29.091 20.212 29.064 20.2825 29.0375C20.461 28.9705 20.638 28.9015 20.8135 28.828C20.8385 28.8175 20.863 28.806 20.888 28.7955C23.056 27.87 25.0025 26.4375 26.552 24.569C26.558 24.562 26.5585 24.552 26.564 24.545C28.709 21.949 30 18.6225 30 15C30 6.729 23.271 0 15 0ZM21.0785 27.61C21.071 27.6135 21.064 27.6175 21.0565 27.621C20.878 27.707 20.6965 27.788 20.5135 27.867C20.472 27.8845 20.431 27.9025 20.3895 27.92C20.2295 27.987 20.0675 28.0505 19.9045 28.1115C19.8365 28.137 19.7685 28.162 19.7 28.186C19.5555 28.2375 19.4105 28.287 19.264 28.334C19.173 28.363 19.0815 28.3905 18.99 28.4175C18.86 28.4565 18.7295 28.494 18.5975 28.529C18.4865 28.5585 18.3745 28.5855 18.2625 28.612C18.145 28.64 18.028 28.6685 17.9095 28.6935C17.78 28.721 17.6495 28.7445 17.5195 28.768C17.414 28.7875 17.309 28.808 17.2025 28.825C17.056 28.848 16.908 28.8665 16.7605 28.885C16.667 28.897 16.574 28.911 16.4795 28.921C16.311 28.939 16.141 28.9505 15.9715 28.9625C15.896 28.9675 15.821 28.976 15.7445 28.98C15.497 28.993 15.249 29 15 29C14.751 29 14.503 28.993 14.256 28.98C14.18 28.976 14.105 28.968 14.029 28.9625C13.859 28.951 13.6895 28.939 13.521 28.921C13.4265 28.911 13.3335 28.897 13.24 28.885C13.0925 28.8665 12.9445 28.848 12.798 28.825C12.6915 28.808 12.5865 28.7875 12.481 28.768C12.3505 28.7445 12.22 28.7205 12.091 28.6935C11.9725 28.6685 11.855 28.64 11.738 28.612C11.626 28.585 11.514 28.5585 11.403 28.529C11.2715 28.494 11.1405 28.456 11.0105 28.4175C10.919 28.3905 10.8275 28.363 10.7365 28.334C10.59 28.287 10.4445 28.2375 10.3005 28.186C10.232 28.1615 10.164 28.1365 10.096 28.1115C9.933 28.0505 9.771 27.987 9.611 27.92C9.5695 27.903 9.529 27.885 9.4875 27.8675C9.3045 27.789 9.123 27.7075 8.944 27.6215C8.9365 27.618 8.9295 27.6145 8.922 27.6105C7.1775 26.7665 5.6365 25.5685 4.386 24.1135C5.3525 20.5545 8.0885 17.6855 11.6085 16.544C11.678 16.5865 11.7505 16.6245 11.822 16.6645C11.864 16.688 11.9055 16.713 11.948 16.7355C12.097 16.8145 12.248 16.8885 12.4025 16.955C12.521 17.007 12.6435 17.051 12.7655 17.096C12.7895 17.1045 12.8135 17.114 12.8375 17.1225C13.5155 17.3625 14.241 17.5 15 17.5C15.759 17.5 16.4845 17.3625 17.162 17.1225C17.186 17.114 17.21 17.1045 17.234 17.096C17.356 17.051 17.4785 17.007 17.597 16.955C17.7515 16.8885 17.9025 16.8145 18.0515 16.7355C18.094 16.7125 18.1355 16.688 18.1775 16.6645C18.249 16.6245 18.322 16.5865 18.392 16.5435C21.912 17.6855 24.6475 20.5545 25.6145 24.113C24.364 25.5675 22.823 26.7655 21.0785 27.61ZM9.5 11C9.5 7.9675 11.9675 5.5 15 5.5C18.0325 5.5 20.5 7.9675 20.5 11C20.5 12.929 19.4995 14.6265 17.992 15.6085C17.795 15.7365 17.59 15.851 17.3795 15.951C17.3545 15.963 17.33 15.9755 17.305 15.987C15.857 16.6455 14.143 16.6455 12.695 15.987C12.67 15.9755 12.645 15.963 12.6205 15.951C12.4095 15.851 12.205 15.7365 12.008 15.6085C10.5005 14.6265 9.5 12.929 9.5 11ZM26.3645 23.1615C25.231 19.8145 22.645 17.1095 19.341 15.8245C20.6625 14.634 21.5 12.915 21.5 11C21.5 7.416 18.584 4.5 15 4.5C11.416 4.5 8.5 7.416 8.5 11C8.5 12.915 9.3375 14.634 10.6595 15.8245C7.3555 17.11 4.7695 19.8145 3.636 23.1615C1.9795 20.862 1 18.044 1 15C1 7.2805 7.2805 1 15 1C22.7195 1 29 7.2805 29 15C29 18.044 28.0205 20.862 26.3645 23.1615Z",fill:"white"}))))))}))),y=Object(n.memo)((function(){var e=Object(i.useSelector)((function(e){return e.global})).user,t=Object(o.useHistory)();return Object(n.useEffect)((function(){e||t.replace("/loggin")}),[]),r.a.createElement("header",{className:"Header"},r.a.createElement(O,null),r.a.createElement(g,{user:e}))})),v=Object(n.memo)((function(e){var t=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),t)})),N=(a(30),Object(n.memo)((function(e){var t=e.label,a=e.value,l=e.placeholder,c=e.name,i=e.handleChange,o=e.error,u=Object(n.useMemo)((function(){return{error:{backgroundColor:"red"},succes:{backgroundColor:"inherit"}}}),[]);return r.a.createElement("label",{className:"TextInput",style:o?u.error:u.succes},"".concat(t),r.a.createElement("input",{className:"TextInput-Input",name:c,type:"text",value:a,placeholder:l,onChange:i,autoComplete:"false"}))}))),C=Object(n.memo)((function(e){var t=e.setShowModal,a=Object(o.useHistory)(),c=Object(i.useDispatch)(),u=Object(n.useMemo)((function(){return document.getElementById("modal")}),[]),m=Object(n.useState)(!0),p=s()(m,2),f=p[0],b=p[1],h=Object(n.useState)(""),O=s()(h,2),g=O[0],y=O[1],v=Object(n.useState)(""),C=s()(v,2),j=C[0],S=C[1],M=Object(i.useSelector)((function(e){return e.global.user.uid})),T=Object(n.useCallback)((function(e){e.preventDefault(),c({type:"global/SET_LOADING",payload:{loading:!0}}),function(e,t,a,n){return E.collection("projects").add({name:t,description:a,uid:e,tool:n,createdAt:d.a.firestore.Timestamp.fromDate(new Date),lastModified:d.a.firestore.Timestamp.fromDate(new Date),data:{}}).then((function(e){return{id:e.id,tool:n}})).catch((function(e){return new Error}))}(M,g,j,"cutOptimizer").then((function(e){c({type:"global/SET_LOADING",payload:{loading:!1}}),c({type:"cutOptimizer/CREATE_NEW_PROJECT",payload:{value:e.id}}),t(!1),a.push("/".concat(e.tool,"/").concat(e.id))})).catch((function(e){c({type:"global/SET_LOADING",payload:{loading:!1}}),c({type:"global/SET_ERROR",payload:{error:"INTERNAL SERVER ERROR"}})}))}),[g,j]);Object(n.useEffect)((function(){""!==g||f?""!==g&&f&&b(!1):b(!0)}),[g]);var D=Object(n.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;"name"===a?y(n.toUpperCase()):"description"===a&&S(n.toUpperCase())}),[]);return Object(l.createPortal)(r.a.createElement("div",{className:"Modal"},r.a.createElement("form",{className:"Form"},r.a.createElement(N,{label:"Name",name:"name",placeholder:"Project 1",value:g,error:f,handleChange:D}),r.a.createElement(N,{label:"Description",name:"description",placeholder:"My firts Project",value:j,handleChange:D}),r.a.createElement("div",null,r.a.createElement("button",{name:"cancel",className:"btn-primary",onClick:function(e){return t(!1)}},"Cancel"),!f&&r.a.createElement("button",{name:"save",className:"btn-secondary",onClick:T},"Save")))),u)})),j=a(10),S=a.n(j);var M=Object(n.memo)((function(e){var t=e.data,a=e.editable,n=e.newRow,l=e.widths,c=e.fields,i=e.handleClick,o=e.addNewRow,u=e.types,s=e.handleChange,m=e.titles;return r.a.createElement("div",{className:"TableContainer"},r.a.createElement("table",{className:"Table"},r.a.createElement("colgroup",null,l&&l.map((function(e,t){return r.a.createElement("col",{key:t,style:{width:l[t]}})}))),r.a.createElement("thead",{className:"TableTitles"},r.a.createElement("tr",null,m&&m.map((function(e,t){return r.a.createElement("th",{key:t},e.toUpperCase())})))),r.a.createElement("tbody",{className:"TableRows"},t.length>0&&c&&t.map((function(e,n){return i?r.a.createElement("tr",{key:n,className:"TableRow",onClick:function(t){return i(t,e,n)}},c.map((function(e,a){return r.a.createElement("td",{className:"TableData",key:a},t[n][e])}))):a||i?r.a.createElement("tr",{key:n,className:"TableRow"},c.map((function(e,a){return r.a.createElement("td",{className:"TableData",key:a},r.a.createElement("input",{name:e,type:u[a],onChange:function(e){return s(e,n,u[a])},value:t[n][e]}))}))):r.a.createElement("tr",{key:n,className:"TableRow"},c.map((function(e,a){return r.a.createElement("td",{className:"TableData",key:a},t[n][e])})))})))),n&&a&&r.a.createElement("button",{className:"NewRow",onClick:o},"New"))})),T=(a(34),{data:[]}),D=function(e,t){var a=t.type,n=t.payload,r=e.data;switch(a){case"ADD_ROW":return r.push(n),Object.assign({},e,{data:r});case"MODIFY_ROW":return r[n.index][n.field]=n.value,Object.assign({},e,{data:r});case"SET_INITIAL_STATE":return n;default:return e}};var A=Object(n.memo)((function(e){var t=e.data,a=void 0===t?[]:t,l=e.editable,c=e.newRow,i=e.widths,o=e.types,u=e.handleClick,m=e.getState,p=e.fields,d=e.titles,E=Object(n.useReducer)(D,T),f=s()(E,2),b=f[0],h=f[1];Object(n.useEffect)((function(){var e;e=p||(a.length>0?Object.keys(a[0]):["Column"]);var t=S()(e),n=d?Object.keys(d):[],r=d?Object.values(d):[];n.forEach((function(e,a){var n=t.indexOf(e);n>=0&&(t[n]=r[a])}));var c=new Array(e.length).fill("text"),u=o?Object.keys(o):[],s=o?Object.values(o):[];u.forEach((function(t,a){var n=e.indexOf(t);n>=0&&(c[n]=s[a])})),h({type:"SET_INITIAL_STATE",payload:{editables:l?S()(e):new Array(e.length).fill(!1),types:c,widths:i||new Array(e.length).fill("".concat(100/e.length,"%")),fields:S()(e),fields2:e,data:a,titles:t}})}),[JSON.stringify(a)]);var O=Object(n.useCallback)((function(e,t,a){var n=e.target,r=n.value,l=n.name;"number"===a&&(r=Number(r)),h({type:"MODIFY_ROW",payload:{index:t,field:l,value:r}})}),[]);Object(n.useEffect)((function(){m&&m.action(b)}),[JSON.stringify(m),JSON.stringify(b)]);var g=Object(n.useCallback)((function(e){var t={};b.fields.forEach((function(e,a){"number"===b.types[a]?t[e]=1:t[e]=""})),h({type:"ADD_ROW",payload:t})}),[JSON.stringify(b)]);return r.a.createElement(M,{editable:l,newRow:c,handleChange:O,handleClick:u,addNewRow:g,data:b.data,widths:b.widths,fields:b.fields,types:b.types,titles:b.titles})})),w=Object(n.memo)((function(){var e=Object(n.useState)([]),t=s()(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),u=s()(c,2),m=u[0],p=u[1],d=Object(o.useHistory)(),f=Object(i.useDispatch)(),h=Object(i.useSelector)((function(e){return e.global.user||{}})).uid;Object(n.useEffect)((function(){f({type:"global/SET_LOADING",payload:{loading:!0}}),function(e){return E.collection("projects").where("uid","==",e).get().then((function(e){var t=[];return e.forEach((function(e,a){t.push(b({projectId:e.id},e.data()))})),t})).catch((function(e){return new Error}))}(h).then((function(e){f({type:"global/SET_LOADING",payload:{loading:!1}}),e.forEach((function(e){e.createdAt=new Date(1e3*e.createdAt.seconds).toLocaleString(),e.lastModified=new Date(1e3*e.lastModified.seconds).toLocaleString()})),l(e)})).catch((function(e){f({type:"global/SET_LOADING",payload:{loading:!1}}),f({type:"global/SET_ERROR",payload:{error:"INTERNAL SERVER ERROR"}})}))}),[]);var O=Object(n.useCallback)((function(e,t,a){f({type:"cutOptimizer/GET_DATA_FROM_PROJECT",payload:t.data}),d.push("/cutOptimizer/project/".concat(t.projectId))}),[JSON.stringify(a)]);return r.a.createElement(v,null,r.a.createElement("main",{className:"Main"},r.a.createElement(A,{fields:["name","description","tool","createdAt","lastModified"],titles:{lastModified:"LAST MODIFIED",createdAt:"CREATED AT"},data:a,editable:!1,newRow:!1,handleClick:O}),r.a.createElement("button",{className:"btn-primary btn-right-bottom",onClick:function(e){return p(!0)}},"New"),m&&r.a.createElement(C,{setShowModal:p})))})),I=Object(n.memo)((function(){return r.a.createElement(v,null,r.a.createElement("main",{className:"Main"},r.a.createElement(o.Link,{to:"/cutOptimizer"},"CutOptimizer"),r.a.createElement(o.Link,{to:"/projects"},"Projects")))})),L=Object(n.memo)((function(){var e=Object(i.useDispatch)(),t=Object(o.useHistory)(),a=function(a){var n;a.preventDefault(),"logginGoogle"===a.target.name&&(e({type:"global/SET_LOADING",payload:{loading:!0}}),(n=new d.a.auth.GoogleAuthProvider,d.a.auth().signInWithPopup(n).then((function(e){var t=e.user;return{email:t.email,displayName:t.displayName,uid:t.uid,photoURL:t.photoURL,refreshToken:t.refreshToken}})).catch((function(e){return new Error}))).then((function(a){a?(e({type:"global/SET_LOADING",payload:{loading:!1}}),e({type:"global/SET_USER",payload:{user:a}}),t.replace("/")):(e({type:"global/SET_LOADING",payload:{loading:!1}}),e({type:"global/SET_ERROR",payload:{error:"LOGIN ERROR"}}))})))};return r.a.createElement("div",{className:"Main"},r.a.createElement("form",{className:"Form"},r.a.createElement(N,{label:"E-mail",placeholder:"",name:"email"}),r.a.createElement(N,{label:"Password",placeholder:"",name:"password"}),r.a.createElement("button",{className:"btn-primary",name:"logginEmail",onClick:a},"Login"),r.a.createElement("button",{className:"btn-primary",name:"logginGoogle",onClick:a},"Login with Google")))}));var R=Object(n.memo)((function(){return r.a.createElement("div",null,"Soy el user")})),_=Object(n.memo)((function(e){var t=e.setShowModal,a=Object(o.useHistory)(),c=Object(i.useDispatch)(),u=Object(n.useMemo)((function(){return document.getElementById("modal")}),[]),m=Object(n.useState)(!0),p=s()(m,2),d=p[0],f=p[1],b=Object(n.useState)("HEA-120"),h=s()(b,2),O=h[0],g=h[1],y=Object(n.useState)("ASTM-A36"),v=s()(y,2),C=v[0],j=v[1],S=Object(i.useSelector)((function(e){var t=e.global.user.uid,a=e.cutOptimizer.serverAvailableBars,n=JSON.stringify(a);return{uid:t,availableBars:n=(n=JSON.parse(n)).map((function(e){return"".concat(e.name," ").concat(e.material)}))}})),M=S.uid,T=S.availableBars,D=Object(n.useCallback)((function(e){e.preventDefault(),c({type:"global/SET_LOADING",payload:{loading:!0}}),function(e,t,a,n){return E.collection("availableBars").add({name:t,material:a,data:n,uid:e}).then((function(e){return{id:e.id}})).catch((function(e){return new Error}))}(M,O,C,[{length:6e3,quantity:1}]).then((function(e){c({type:"global/SET_LOADING",payload:{loading:!1}}),c({type:"cutOptimizer/ADD_SERVER_AVAILABLE_BAR",payload:{availableBarsId:e.id,data:[{length:6e3,quantity:1}],name:O,material:C,uid:M}}),t(!1),a.push("/cutOptimizer/bars_store/".concat(e.id))})).catch((function(e){c({type:"global/SET_LOADING",payload:{loading:!1}}),c({type:"global/SET_ERROR",payload:{error:"INTERNAL SERVER ERROR"}})}))}),[O,C]);Object(n.useEffect)((function(){var e=T.includes("".concat(O," ").concat(C));e&&!d?f(!0):!e&&d&&f(!1)}),[O,C]);var A=Object(n.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;"name"===a?g(n):"material"===a&&j(n)}),[]);return Object(l.createPortal)(r.a.createElement("div",{className:"Modal"},r.a.createElement("form",{className:"Form"},r.a.createElement(N,{label:"Name",name:"name",placeholder:"HEA-120",value:O,error:d,handleChange:A}),r.a.createElement(N,{label:"Material",name:"material",placeholder:"ASTM-A36",value:C,error:d,handleChange:A}),r.a.createElement("div",null,r.a.createElement("button",{name:"cancel",className:"btn-primary",onClick:function(e){return t(!1)}},"Cancel"),!d&&r.a.createElement("button",{name:"save",className:"btn-secondary",onClick:D},"Save")))),u)})),B=Object(n.memo)((function(){var e=Object(o.useHistory)(),t=Object(n.useState)(!1),a=s()(t,2),l=a[0],c=a[1],u=Object(i.useSelector)((function(e){var t=e.cutOptimizer.serverAvailableBars;return{data:t.length>=0?t.map((function(e){return{name:e.name,material:e.material,availableBarsId:e.availableBarsId}})):[]}})).data,m=Object(n.useCallback)((function(t,a,n){e.push("/cutOptimizer/bars_store/".concat(a.availableBarsId))}),[]);return r.a.createElement(v,null,r.a.createElement("div",{className:"Main"},r.a.createElement(A,{fields:["name","material"],data:u,editable:!1,newRow:!1,handleClick:m})),r.a.createElement("button",{className:"btn-primary btn-right-bottom",onClick:function(e){return c(!0)}},"New"),l&&r.a.createElement(_,{setShowModal:c}))})),z=(a(35),Object(n.memo)((function(e){var t=e.label,a=e.value,l=e.placeholder,c=e.name,i=e.handleChange,o=e.error,u=Object(n.useMemo)((function(){return{error:{backgroundColor:"red"},succes:{backgroundColor:"inherit"}}}),[]);return r.a.createElement("label",{className:"NumberInput",style:o?u.error:u.succes},"".concat(t),r.a.createElement("input",{className:"NumberInput-Input",name:c,type:"number",value:a,placeholder:l,onChange:i}))})));function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(Object(a),!0).forEach((function(t){p()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=document.getElementById("modal"),Y={shapeName:"HEA-120",material:"ASTM-A36",defaultlengthBar:6e3,cutLength:3,availableBars:[],useAvailableBars:!0,nameError:!1,materialError:!1,defaultlengthBarError:!1,cutLengthError:!1,error:!1},q=function(e,t){var a=t.type,n=t.payload;switch(a){case"MODIFY_FIELD":return e[n.field]=n.value,Object.assign({},e);case"SET_STATE":return Object.assign({},e,x({},n));default:return e}},H=function(e){var t=e.setShowModal,a=e.mode,c=Object(i.useDispatch)(),o=Object(n.useReducer)(q,Y),u=s()(o,2),m=u[0],p=u[1],d=m.shapeName,E=m.material,f=m.defaultlengthBar,b=m.cutLength,h=m.nameError,O=m.materialError,g=m.defaultlengthBarError,y=m.cutLengthError,v=m.error,C=m.useAvailableBars,j=m.availableBars,S=Object(i.useSelector)((function(e){var t=e.cutOptimizer,a=t.request,n=void 0===a?[]:a,r=t.currentShape,l=t.serverAvailableBars,c=void 0===l?[]:l,i=n[r]||{},o=i.cutLength,u=i.defaultlengthBar,s=i.material,m=i.shapeName,p=i.useAvailableBars,d=i.list,E=void 0===d?[]:d,f=c.some((function(e){return e.name===m&&e.material===s}));return{descriptions:n.map((function(e){return"".concat(e.shapeName," ").concat(e.material)})),lengths:E.map((function(e){return e.length})),initial:{shapeName:m,material:s,defaultlengthBar:u,cutLength:o,useAvailableBars:p,availableBars:f}}})),M=S.descriptions,T=S.lengths,D=S.initial;Object(n.useEffect)((function(){"edit"===a&&p({type:"SET_STATE",payload:D})}),[]),Object(n.useEffect)((function(){var e=b>f||b<=0,t=T.some((function(e){return e>f}))||f<b||f<1;""!==d||h?""!==d&&h?p({type:"MODIFY_FIELD",payload:{field:"nameError",value:!1}}):""!==E||O?""!==E&&O?p({type:"MODIFY_FIELD",payload:{field:"materialError",value:!1}}):e&&!y?p({type:"MODIFY_FIELD",payload:{field:"cutLengthError",value:!0}}):!e&&y?p({type:"MODIFY_FIELD",payload:{field:"cutLengthError",value:!1}}):t&&!g?p({type:"MODIFY_FIELD",payload:{field:"defaultlengthBarError",value:!0}}):!t&&g&&p({type:"MODIFY_FIELD",payload:{field:"defaultlengthBarError",value:!1}}):p({type:"MODIFY_FIELD",payload:{field:"materialError",value:!0}}):p({type:"MODIFY_FIELD",payload:{field:"nameError",value:!0}})}),[d,E,f,b]),Object(n.useEffect)((function(){var e=h||O||y||g,t="create"===a?M:M.filter((function(e){return e!=="".concat(D.shapeName," ").concat(D.material)}));console.log(D),console.log(t);var n=t.includes("".concat(d," ").concat(E));e&&!v?p({type:"MODIFY_FIELD",payload:{field:"error",value:!0}}):!e&&v?p({type:"MODIFY_FIELD",payload:{field:"error",value:!1}}):n&&!v?p({type:"MODIFY_FIELD",payload:{field:"error",value:!0}}):!n&&v&&p({type:"MODIFY_FIELD",payload:{field:"error",value:!1}})}),[h,O,y,g,d,E,JSON.stringify(D)]);var A=Object(n.useCallback)((function(e){var t=e.target,a=t.name,n=t.value;"defaultlengthBar"===a||"cutLength"===a?p({type:"MODIFY_FIELD",payload:{field:a,value:Number(n)}}):"material"===a||"shapeName"===a?p({type:"MODIFY_FIELD",payload:{field:a,value:n.toUpperCase()}}):"useAvailableBars"===a&&p({type:"MODIFY_FIELD",payload:{field:a,value:!C}})}),[C]),w=Object(n.useCallback)((function(e){e.preventDefault();var a=e.target.name,n={shapeName:d,material:E},r="cutOptimizer/".concat(C?"ADD":"DELETE","_AVAILABLE_BARS");"create"===a?(c({type:"cutOptimizer/CREATE_SHAPE",payload:x({},n,{defaultlengthBar:f,cutLength:b,useAvailableBars:C})}),c({type:r,payload:n})):"edit"===a?(c({type:"cutOptimizer/EDIT_SHAPE",payload:x({},n,{defaultlengthBar:f,cutLength:b,useAvailableBars:C})}),c({type:r,payload:n})):"delete"===a&&c({type:"cutOptimizer/DELETE_SHAPE"}),t(!1)}),[d,E,f,b,C]);return Object(l.createPortal)(r.a.createElement("div",{className:"Modal"},r.a.createElement("form",{className:"Form"},r.a.createElement(N,{name:"shapeName",label:"Shape",value:d,placeholder:"HEA-120",handleChange:A,error:h}),r.a.createElement(z,{name:"defaultlengthBar",label:"Length",value:f,placeholder:6e3,handleChange:A,error:g}),r.a.createElement(z,{name:"cutLength",label:"Cut Length",value:b,placeholder:3,handleChange:A,error:y}),r.a.createElement(N,{name:"material",label:"Material",value:E,placeholder:"ASTM A36",handleChange:A,error:O}),j&&r.a.createElement("label",null,r.a.createElement("span",null,"Use Bars from Store"),r.a.createElement("input",{name:"useAvailableBars",type:"checkbox",checked:void 0!==C&&C,onChange:A})),r.a.createElement("div",null,r.a.createElement("button",{name:"cancel",className:"btn-primary",onClick:function(e){return t(!1)}},"Cancel"),r.a.createElement("button",{name:"delete",className:"btn-primary",onClick:w},"Delete"),!v&&"create"===a&&r.a.createElement("button",{name:"create",className:"btn-secondary",onClick:w},"Create"),!v&&"edit"===a&&r.a.createElement("button",{name:"edit",className:"btn-secondary",onClick:w},"Edit")))),P)},J=(a(36),Object(n.memo)((function(e){var t=e.shape,a=e.shapeName,l=e.material,c=e.error,o=e.currentShape,u=Object(n.useState)(!1),m=s()(u,2),p=m[0],d=m[1],E=Object(i.useDispatch)(),f=Object(i.useSelector)((function(e){return e.cutOptimizer})).mode,b=Object(n.useCallback)((function(e,t){t!==o&&E({type:"cutOptimizer/SET_CURRENT_SHAPE",payload:{value:t}})}),[o]),h=Object(n.useMemo)((function(){return{borderLeft:"0.5rem solid var(--tertiary)"}}),[]),O=Object(n.useMemo)((function(){return{borderLeft:"0.5rem solid var(--primary)"}}),[]),g=Object(n.useMemo)((function(){return t===o?"shapeInfo-selected":"shapeInfo"}),[o]);return r.a.createElement("div",{onClick:function(e){return b(e,t)},name:"shapeInfo",className:g,style:c?O:h},r.a.createElement("h3",null,t+1,". ",a),r.a.createElement("span",null,l),t===o&&"input"===f&&r.a.createElement("button",{onClick:function(e){return d(!0)}},"Edit"),p&&r.a.createElement(H,{mode:"edit",setShowModal:d}))}))),F=Object(n.memo)((function(e){var t=e.currentErrors,a=e.currentNames,n=e.currentMaterials,l=e.currentShape;return r.a.createElement("div",{className:"SideBar-Shapes"},a.map((function(e,c){return r.a.createElement(J,{key:c,shape:c,shapeName:a[c],material:n[c],error:t[c],currentShape:l})})))})),G=Object(n.memo)((function(e){var t=e.mode,a=e.handleChange,n=e.readyToSend,l=e.setShowModal;return"input"===t?r.a.createElement("div",{className:"SideBar-Buttons"},r.a.createElement("button",{className:"btn-secondary",name:"newShape",onClick:function(e){return l(!0)},style:{width:"80%"}},"New"),r.a.createElement("button",{className:"btn-primary",name:"optimize",onClick:a,style:{width:"80%",display:n?"initial":"none"}},"Optimize")):"output"===t?r.a.createElement("div",{className:"SideBar-Buttons"},r.a.createElement("button",{style:{width:"80%"},className:"btn-primary",name:"edit",onClick:a},"Edit")):void 0})),V=function(e,t){e=JSON.stringify(e),e=JSON.parse(e);var a=[],n=JSON.parse(t),r=[];return e.forEach((function(e,t){if(JSON.stringify(e)!==JSON.stringify(n[t])){var l=Object.assign({},e);a.push(l),r.push(t)}})),a.forEach((function(e){e.availableBars.sort((function(e,t){return e.length-t.length})),e.list.sort((function(e,t){return t.length-e.length}))})),{indexes:r,request3:a}},Z=a(12),U=a.n(Z),Q=a(17),W=a.n(Q),X=function(){var e=W()(U.a.mark((function e(t,a,n){var r,l;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:5001",{method:"POST",body:JSON.stringify({items:t,user:{}}),headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"}});case 3:return r=e.sent,e.next=6,r.json();case 6:(r=e.sent).data.forEach((function(e,t){var r=a[t];n[r]=e})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),l="INTERNAL SERVER ERROR";case 13:return e.abrupt("return",{data:n,error:l});case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),K=Object(n.memo)((function(){var e=Object(i.useDispatch)(),t=Object(n.useState)(!1),a=s()(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),u=s()(o,2),m=u[0],p=u[1],E=Object(i.useSelector)((function(e){return e.cutOptimizer})),f=E.request,b=E.mode,O=E.response,g=E.readyToSend,y=E.request2,v=E.projectId;Object(n.useEffect)((function(){if(m){e({type:"global/SET_LOADING",payload:{loading:!0}}),console.log("Estoy subiendo el proyecto a firebase");var t={data:{request:f,mode:"input",response:O,readyToSend:g,request2:y,projectId:v,currentShape:0===f.length?-1:0,newElements:!0},lastModified:d.a.firestore.Timestamp.fromDate(new Date)};v&&h("projects",v,t).then((function(t){e({type:"global/SET_LOADING",payload:{loading:!1}}),p(!1)})).catch((function(t){e({type:"global/SET_LOADING",payload:{loading:!1}}),e({type:"global/SET_ERROR",payload:{error:"INTERNAL SERVER ERROR"}}),p(!1)}))}}),[String(m)]);var N=Object(n.useCallback)((function(t){var a=t.target.name;if("edit"===a)e({type:"cutOptimizer/SET_MODE",payload:{value:"input"}});else if("newShape"===a)e({type:"cutOptimizer/CREATE_NEW_SHAPE"});else if("optimize"===a&&g){var n=V(f,y),r=n.request3,l=n.indexes;r.length>0?(console.log("me estoy optimizando"),e({type:"global/SET_LOADING",payload:{loading:!0}}),X(r,l,O).then((function(t){var a=t.data;e({type:"global/SET_LOADING",payload:{loading:!1}}),e({type:"cutOptimizer/OPTIMIZE",payload:{value:a}}),p(!0)})).catch((function(t){e({type:"global/SET_LOADING",payload:{loading:!1}}),e({type:"global/SET_ERROR",payload:{error:"INTERNAL SERVER ERROR"}})}))):e({type:"cutOptimizer/SET_MODE",payload:{value:"output"}})}}),[f,y,g]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{handleChange:N,mode:b,readyToSend:g,setShowModal:c}),l&&r.a.createElement(H,{setShowModal:c,mode:"create"}))})),$=(a(38),Object(n.memo)((function(){var e=Object(i.useSelector)((function(e){var t=e.cutOptimizer,a=t.currentShape,n=t.request,r=void 0===n?[]:n,l=t.readyToSend;return{errors:r.map((function(e){return Object.values(e.error).includes(!0)})),names:r.map((function(e){return e.shapeName})),materials:r.map((function(e){return e.material})),currentShape:a,readyToSend:l}})),t=e.errors,a=e.names,l=e.materials,c=e.currentShape,o=e.readyToSend,u=Object(i.useDispatch)(),m=Object(n.useState)(!0),p=s()(m,2),d=p[0],E=p[1],f=Object(n.useMemo)((function(){return t}),[JSON.stringify(t)]),b=Object(n.useMemo)((function(){return a}),[JSON.stringify(a)]),h=Object(n.useMemo)((function(){return l}),[JSON.stringify(l)]);return Object(n.useEffect)((function(){if(0!==f.length||d){if(f.length>0){var e=f.includes(!0);e&&!d?E(!0):!e&&d&&E(!1)}}else E(!0)}),[JSON.stringify(f)]),Object(n.useEffect)((function(){o===d&&u({type:"cutOptimizer/SET_READY_TO_SEND",payload:{value:!d}})}),[d]),r.a.createElement("aside",{className:"SideBar"},r.a.createElement("h2",{className:"SideBar-Title"},"Shapes"),r.a.createElement(F,{currentErrors:f,currentNames:b,currentMaterials:h,currentShape:c}),r.a.createElement(K,null))}))),ee=Object(n.memo)((function(e){var t=e.handleChange,a=e.newElements;return r.a.createElement("section",{className:"ActionContainer"},r.a.createElement("hr",null),r.a.createElement("div",{className:"ActionContainer-Buttons"},!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{style:{width:"15%"},className:"btn-primary",name:"items",onClick:t},"Show Items"),r.a.createElement("button",{style:{width:"15%"},className:"btn-primary",name:"edit",onClick:t},"Edit Bars")),a&&r.a.createElement("button",{style:{width:"15%"},className:"btn-primary",name:"bars",onClick:t},"Show Bars")))}));var te=Object(n.memo)((function(){var e=Object(i.useSelector)((function(e){var t=e.cutOptimizer,a=t.newElements,n=t.currentShape,r=t.request,l=void 0===r?[]:r,c=t.serverAvailableBars,i=void 0===c?[]:c,o=l[n]||[],u=o.shapeName,s=o.material;return{newElements:a,availableBarsId:(i.filter((function(e){return e.name===u&&e.material===s}))[0]||"id").availableBarsId}})),t=e.newElements,a=e.availableBarsId,l=Object(i.useDispatch)(),c=Object(o.useHistory)(),u=Object(n.useCallback)((function(e){var t=e.target.name;"items"===t||"bars"===t?l({type:"cutOptimizer/CHANGE_NEW_ELEMENTS"}):"edit"===t&&c.push("/cutOptimizer/bars_store/".concat(a))}),[t]);return r.a.createElement(ee,{handleChange:u,newElements:t})})),ae=Object(n.memo)((function(e){var t=e.name,a=e.quantity,n=e.length,l=e.item,c=e.handleChange,i=e.styles;return r.a.createElement("div",{className:"Items-Elements"},r.a.createElement("input",{className:"Items-Name Name",type:"text",value:t,onChange:function(e){return c(e,l)},placeholder:"Name",autoComplete:"off",name:"name",style:i.name}),r.a.createElement("input",{className:"Items-Length",type:"number",value:n,onChange:function(e){return c(e,l)},placeholder:"Length",autoComplete:"off",step:1,name:"length",style:i.length}),r.a.createElement("input",{className:"Items-Quantity",type:"number",value:a,onChange:function(e){return c(e,l)},autoComplete:"off",placeholder:"Quantity",step:1,name:"quantity",style:i.quantity}),r.a.createElement("button",{className:"Items-Delete"},r.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNTEyIDUxMiIgaGVpZ2h0PSI1MTIiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiB3aWR0aD0iNTEyIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxnPjxwYXRoIGQ9Im00MjQgNjRoLTg4di0xNmMwLTI2LjQ2Ny0yMS41MzMtNDgtNDgtNDhoLTY0Yy0yNi40NjcgMC00OCAyMS41MzMtNDggNDh2MTZoLTg4Yy0yMi4wNTYgMC00MCAxNy45NDQtNDAgNDB2NTZjMCA4LjgzNiA3LjE2NCAxNiAxNiAxNmg4Ljc0NGwxMy44MjMgMjkwLjI4M2MxLjIyMSAyNS42MzYgMjIuMjgxIDQ1LjcxNyA0Ny45NDUgNDUuNzE3aDI0Mi45NzZjMjUuNjY1IDAgNDYuNzI1LTIwLjA4MSA0Ny45NDUtNDUuNzE3bDEzLjgyMy0yOTAuMjgzaDguNzQ0YzguODM2IDAgMTYtNy4xNjQgMTYtMTZ2LTU2YzAtMjIuMDU2LTE3Ljk0NC00MC00MC00MHptLTIxNi0xNmMwLTguODIyIDcuMTc4LTE2IDE2LTE2aDY0YzguODIyIDAgMTYgNy4xNzggMTYgMTZ2MTZoLTk2em0tMTI4IDU2YzAtNC40MTEgMy41ODktOCA4LThoMzM2YzQuNDExIDAgOCAzLjU4OSA4IDh2NDBjLTQuOTMxIDAtMzMxLjU2NyAwLTM1MiAwem0zMTMuNDY5IDM2MC43NjFjLS40MDcgOC41NDUtNy40MjcgMTUuMjM5LTE1Ljk4MSAxNS4yMzloLTI0Mi45NzZjLTguNTU1IDAtMTUuNTc1LTYuNjk0LTE1Ljk4MS0xNS4yMzlsLTEzLjc1MS0yODguNzYxaDMwMi40NHoiLz48cGF0aCBkPSJtMjU2IDQ0OGM4LjgzNiAwIDE2LTcuMTY0IDE2LTE2di0yMDhjMC04LjgzNi03LjE2NC0xNi0xNi0xNnMtMTYgNy4xNjQtMTYgMTZ2MjA4YzAgOC44MzYgNy4xNjMgMTYgMTYgMTZ6Ii8+PHBhdGggZD0ibTMzNiA0NDhjOC44MzYgMCAxNi03LjE2NCAxNi0xNnYtMjA4YzAtOC44MzYtNy4xNjQtMTYtMTYtMTZzLTE2IDcuMTY0LTE2IDE2djIwOGMwIDguODM2IDcuMTYzIDE2IDE2IDE2eiIvPjxwYXRoIGQ9Im0xNzYgNDQ4YzguODM2IDAgMTYtNy4xNjQgMTYtMTZ2LTIwOGMwLTguODM2LTcuMTY0LTE2LTE2LTE2cy0xNiA3LjE2NC0xNiAxNnYyMDhjMCA4LjgzNiA3LjE2MyAxNiAxNiAxNnoiLz48L2c+PC9zdmc+",onClick:function(e){return c(e,l)},name:"delete"})))})),ne=Object(n.memo)((function(e){var t=e.item,a=e.quantity,l=e.length,c=e.name,o=e.defaultlengthBar,u=e.currentNames,m=e.getDataFromElements,p=Object(i.useDispatch)(),d=Object(n.useState)(!1),E=s()(d,2),f=E[0],b=E[1],h=Object(n.useState)(!1),O=s()(h,2),g=O[0],y=O[1],v=Object(n.useState)(!1),N=s()(v,2),C=N[0],j=N[1],S=Object(n.useState)(!1),M=s()(S,2),T=M[0],D=M[1];Object(n.useEffect)((function(){if(u.length>1){var e=u.filter((function(e){return e===c})).length;!g&&(e>1||""===c)?y(!0):g&&1===e&&""!==c&&y(!1)}else""!==c||f?f&&y(!1):y(!0)}),[JSON.stringify(u)]),Object(n.useEffect)((function(){j(l>o||l<1)}),[l,o]),Object(n.useEffect)((function(){D(a<1)}),[a]),Object(n.useEffect)((function(){var e=[g,C,T].includes(!0);e&&!f?b(!0):!e&&f&&b(!1)}),[g,C,T]),Object(n.useEffect)((function(){m(t,!1,f)}),[f]);var A=Object(n.useCallback)((function(e,t){var a=e.target,n=a.name,r=a.value;"name"===n||"length"===n||"quantity"===n?p({type:"cutOptimizer/MODIFY_ELEMENT",payload:{item:t,name:n,value:r}}):"delete"===n&&(m(t,!0),p({type:"cutOptimizer/DELETE_ELEMENT",payload:{item:t}}))}),[]),w=Object(n.useMemo)((function(){return{name:{backgroundColor:"inherit"},length:{backgroundColor:"inherit"},quantity:{backgroundColor:"inherit"}}}),[]),I=Object(n.useMemo)((function(){return{name:{backgroundColor:"red"},length:{backgroundColor:"red"},quantity:{backgroundColor:"red"}}}),[]),L=Object(n.useMemo)((function(){return{name:g?I.name:w.name,quantity:T?I.quantity:w.quantity,length:C?I.length:w.length}}),[g,T,C]);return r.a.createElement(ae,{name:c,quantity:a,length:l,item:t,handleChange:A,styles:L})}));var re=Object(n.memo)((function(e){var t=e.handleChange,a=e.currentNames,n=e.defaultlengthBar,l=e.currenLengths,c=e.currentQuantities,i=e.getDataFromElements;return r.a.createElement("section",{className:"Items"},r.a.createElement("div",{className:"Items-Title"},r.a.createElement("div",{className:"Items-Name"},"Name"),r.a.createElement("div",{className:"Items-Length"},"Length"),r.a.createElement("div",{className:"Items-Quantity"},"Quantity"),r.a.createElement("div",{className:"Items-Delete"})),a.length>=0&&a.map((function(e,t){return r.a.createElement(ne,{key:t,item:t,name:a[t],length:l[t],quantity:c[t],currentNames:a,defaultlengthBar:n,getDataFromElements:i})})),r.a.createElement("button",{className:"Items-New",name:"add",onClick:t},"+ New"))})),le=Object(n.memo)((function(){var e=Object(i.useSelector)((function(e){var t=e.cutOptimizer,a=t.request[t.currentShape]||{},n=a.list,r=void 0===n?[]:n,l=a.error,c=void 0===l?{}:l,i=a.defaultlengthBar,o=void 0===i?6e3:i,u=c.items||!0;return{names:r.map((function(e){return e.name})),lengths:r.map((function(e){return e.length})),quantities:r.map((function(e){return e.quantity})),defaultlengthBar:o,firstError:u}})),t=e.names,a=e.lengths,l=e.quantities,c=e.defaultlengthBar,o=e.firstError,u=Object(i.useDispatch)(),m=Object(n.useState)(!0),p=s()(m,2),d=p[0],E=p[1],f=Object(n.useMemo)((function(){return t}),[JSON.stringify(t)]),b=Object(n.useMemo)((function(){return a}),[JSON.stringify(a)]),h=Object(n.useMemo)((function(){return l}),[JSON.stringify(l)]),O=Object(n.useMemo)((function(){return[]}),[]);Object(n.useEffect)((function(){0===f.length&&E(!0)}),[f.length]),Object(n.useEffect)((function(){o!==d&&u({type:"cutOptimizer/SET_SHAPE_ERROR",payload:{name:"items",value:d}})}),[d,o]);var g=Object(n.useCallback)((function(e,t,a){t?O.splice(e,1):O[e]=a;var n=O.length;if(0!==n||d){if(n>0){var r=O.includes(!0);r&&!d?E(!0):!r&&d&&E(!1)}}else E(!0)}),[O,d]),y=Object(n.useCallback)((function(e){u({type:"cutOptimizer/ADD_ELEMENT"})}),[]);return r.a.createElement(re,{handleChange:y,currentNames:f,currenLengths:b,currentQuantities:h,defaultlengthBar:c,getDataFromElements:g})})),ce=Object(n.memo)((function(){var e=Object(i.useSelector)((function(e){var t=e.cutOptimizer.request[e.cutOptimizer.currentShape],a=t.shapeName,n=t.material,r=e.cutOptimizer.serverAvailableBars.filter((function(e){return e.name===a&&e.material===n}));return r.length?r[0].data:[]}));return r.a.createElement(A,{fields:["length","quantity"],data:e,editable:!1,newRow:!1})})),ie=(a(39),Object(n.memo)((function(){var e=Object(i.useSelector)((function(e){var t=e.global.loading,a=e.cutOptimizer,n=a.newElements,r=a.mode,l=a.request,c=void 0===l?[]:l,i=(c[a.currentShape]||!1).useAvailableBars;return{newElements:n,mode:r,requestLength:c.length,loading:t,useAvailableBars:i}})),t=e.newElements,a=e.mode,n=e.requestLength,l=e.loading,c=e.useAvailableBars;return"input"===a&&n>0&&!l?r.a.createElement("main",{className:"Main"},r.a.createElement("div",{className:"Main-Container"},t?r.a.createElement(le,null):r.a.createElement(ce,null),c&&r.a.createElement(te,null))):"input"!==a||0!==n||l?"input"===a&&l?r.a.createElement("main",{className:"Main",style:{backgroundColor:"blue"}},r.a.createElement("div",null,"Loading...")):void 0:r.a.createElement("main",{className:"Main"},"Insert")})));a(40);var oe=Object(n.memo)((function(e){var t=e.quantity,a=e.percentage,l=e.length,c=e.availableLength,i=e.elements,o=e.type,u=Object(n.useState)(!1),m=s()(u,2),p=m[0],d=m[1],E=Object(n.useCallback)((function(e){d(!p)}),[p]),f=Object(n.useMemo)((function(){return"store"===o?"1px solid red":"1px solid blue"}),[]);return r.a.createElement("article",{className:"Main-OutputBar",style:{outline:f}},r.a.createElement("div",{className:"Main-OutputBarTitle"},r.a.createElement("h3",{style:{textAlign:"left"}},t," ","".concat(t>1?"Bars":"Bar")),r.a.createElement("div",null,r.a.createElement("div",{style:{width:"".concat(a,"%")}})),r.a.createElement("h3",{style:{textAlign:"right"}},"".concat(a,"%")),r.a.createElement("button",{onClick:E,name:"details"},r.a.createElement("svg",{viewBox:"0 0 29 20",fill:"red"},r.a.createElement("path",{d:"M28.6457 0.451127C28.1732 -0.150376 27.4096 -0.150376 26.9371 0.451127L14.5 16.2862L2.06285 0.451127C1.59042 -0.150376 0.826752 -0.150376 0.354322 0.451127C-0.118107 1.05263 -0.118107 2.02494 0.354322 2.62645L13.6457 19.5492C13.8814 19.8492 14.1907 20 14.5 20C14.8094 20 15.1187 19.8492 15.3543 19.5492L28.6457 2.62645C29.1181 2.02494 29.1181 1.05263 28.6457 0.451127Z",fill:"black"})))),p&&r.a.createElement("div",{className:"Main-OutputBarDetails"},r.a.createElement(A,{data:i,editable:!1,titles:{name:"NAME",length:"LENGTH",quantity2:"QUANTITY"},fields:["name","length","quantity2"],newRow:!1}),r.a.createElement("h3",null,"Length: ",l),r.a.createElement("h3",null,"Available Length: ",c)))}));var ue=Object(n.memo)((function(){var e=Object(i.useSelector)((function(e){var t=e.cutOptimizer,a=t.currentShape,n=t.response;return{bars:0===n.length?[]:n[a].bars}})).bars;return r.a.createElement("main",{className:"Main"},e.map((function(e,t){var a=e.quantity,n=e.percentage,l=e.availableLength,c=e.length,i=e.elements,o=e.type;return r.a.createElement(oe,{key:t,quantity:a,percentage:n,availableLength:l,length:c,elements:i,type:o})})))})),se=Object(n.memo)((function(){var e=Object(i.useSelector)((function(e){return e.cutOptimizer})).mode;return r.a.createElement(v,null,r.a.createElement($,null),"input"===e?r.a.createElement(ie,null):r.a.createElement(ue,null))})),me=Object(n.memo)((function(){return r.a.createElement(v,null,r.a.createElement("main",{className:"Main"},"is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industrys standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum."))})),pe=Object(n.memo)((function(e){var t=e.availableBar,a=e.getState,n=e.toSend,l=e.toggleTosend;return r.a.createElement(v,null,r.a.createElement("div",{className:"Main"},r.a.createElement(A,{data:t,editable:!0,newRow:!0,types:{length:"number",quantity:"number"},getState:{state:n,action:a}})),r.a.createElement("button",{className:"btn-primary btn-right-bottom",onClick:l},"Send"))})),de=Object(n.memo)((function(){var e=Object(o.useParams)().availableBarsId,t=Object(n.useState)(""),a=s()(t,2),l=a[0],c=a[1],u=Object(n.useState)({}),m=s()(u,2),p=m[0],d=m[1],E=Object(i.useDispatch)(),f=Object(o.useHistory)(),b=Object(i.useSelector)((function(t){return t.cutOptimizer.serverAvailableBars.filter((function(t){return t.availableBarsId===e}))[0].data})),O=Object(n.useCallback)((function(e){d(e)}),[]),g=Object(n.useCallback)((function(){c(!l)}),[String(l)]);return Object(n.useEffect)((function(){""!==l&&(E({type:"global/SET_LOADING",payload:{loading:!0}}),h("availableBars",e,{data:p.data}).then((function(e){E({type:"global/SET_LOADING",payload:{loading:!1}}),f.goBack()})).catch((function(e){E({type:"global/SET_ERROR",payload:{error:"INTERNAL SERVER ERROR"}}),E({type:"global/SET_LOADING",payload:{loading:!1}}),f.goBack()})))}),[String(l)]),r.a.createElement(pe,{availableBar:b,getState:O,toSend:l,toggleTosend:g})}));var Ee=Object(n.memo)((function(){var e=Object(i.useDispatch)(),t=Object(i.useSelector)((function(e){return e.global})).user.uid;return Object(n.useEffect)((function(){return e({type:"global/SET_LOADING",payload:{loading:!0}}),function(e){return E.collection("availableBars").where("uid","==",e).get().then((function(e){var t=[];return e.forEach((function(e,a){t.push(b({availableBarsId:e.id},e.data()))})),t})).catch((function(e){return new Error}))}(t).then((function(t){e({type:"cutOptimizer/SET_SERVER_AVAILABLEBARS",payload:{serverAvailableBars:t}}),e({type:"global/SET_LOADING",payload:{loading:!1}})})).catch((function(t){e({type:"global/SET_ERROR",payload:{error:"GET AVAILABLE BARS ERROR"}}),e({type:"global/SET_LOADING",payload:{loading:!1}})})),function(){return e({type:"cutOptimizer/CREATE_NEW_PROJECT",payload:{value:""}})}}),[]),r.a.createElement(o.Switch,null,r.a.createElement(o.Route,{exact:!0,path:"/cutOptimizer/",sensitive:!1,component:me}),r.a.createElement(o.Route,{exact:!0,path:"/cutOptimizer/bars_store",sensitive:!1,component:B}),r.a.createElement(o.Route,{exact:!0,path:"/cutOptimizer/bars_store/:availableBarsId",sensitive:!1,component:de}),r.a.createElement(o.Route,{sensitive:!1,component:se}))}));var fe=Object(n.memo)((function(){return r.a.createElement(o.BrowserRouter,{basename:"/"},r.a.createElement(o.Switch,null,r.a.createElement(o.Route,{exact:!0,sensitive:!1,path:"/",component:I}),r.a.createElement(o.Route,{exact:!0,sensitive:!1,path:"/projects",component:w}),r.a.createElement(o.Route,{sensitive:!1,path:"/cutOptimizer",component:Ee}),r.a.createElement(o.Route,{exact:!0,sensitive:!1,path:"/loggin",component:L}),r.a.createElement(o.Route,{exact:!0,sensitive:!1,path:"/user",component:R}),r.a.createElement(o.Route,null,r.a.createElement("div",null,"Error 404"))))})),be=function(){return Object(n.useEffect)((function(){return window.addEventListener("unload",(function(){return window.localStorage.setItem("GLOBAL_STATE",JSON.stringify(c.a.getState()))})),function(){return window.removeEventListener("unload")}}),[]),r.a.createElement(i.Provider,{store:c.a},r.a.createElement(fe,null))},he=document.getElementById("root");console.disableYellowBox=!0,Object(l.render)(r.a.createElement(be,null),he)}]);